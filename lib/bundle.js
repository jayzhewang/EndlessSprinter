!function(t){function i(h){if(e[h])return e[h].exports;var r=e[h]={exports:{},id:h,loaded:!1};return t[h].call(r.exports,r,r.exports,i),r.loaded=!0,r.exports}var e={};return i.m=t,i.c=e,i.p="",i(0)}([function(t,i,e){"use strict";function h(t){return t&&t.__esModule?t:{"default":t}}var r=e(2),s=h(r),n=e(3),o=h(n),a=e(1);document.addEventListener("DOMContentLoaded",function(){var t=document.getElementsByTagName("canvas")[0];t.width=a.gameDemension[0],t.height=a.gameDemension[1];var i=t.getContext("2d"),e=new s["default"];new o["default"](e,i).start()})},function(t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});i.gameDemension=[800,500]},function(t,i,e){"use strict";function h(t){return t&&t.__esModule?t:{"default":t}}function r(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function t(t,i){for(var e=0;e<i.length;e++){var h=i[e];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,h.key,h)}}return function(i,e,h){return e&&t(i.prototype,e),h&&t(i,h),i}}(),n=e(5),o=e(8),a=h(o),l=e(4),c=h(l),d=e(7),u=h(d),f=e(6),y=function(){function t(){r(this,t),this.startTime=new Date,this.land=new c["default"](n.Level),this.sprinter=new a["default"],this.river=new u["default"],this.gameOver=!1,this.sprinterAction=this.sprinterFall,this.score=0,this.endScore=0,this.scoreMargin=0}return s(t,[{key:"step",value:function(){this.sprinterOnLand=this.isLanded((0,f.topLandCoords)(this.land)),this.sprinterAction(),this.landStep()}},{key:"landStep",value:function(){this.land.step(),this.checkCollision()}},{key:"checkCollision",value:function(){var t=(0,f.sideLandCoords)(this.land),i=(0,f.riverCoords)(this.river),e=this.getSprinterCoords();return this.isCollideWithSide(t,e)||this.isCollideWithRiver(i,e)?(this.gameOver=!0,"has collided"):"no collision"}},{key:"sprinterJump",value:function(){!this.sprinter.jumped&&this.sprinterOnLand&&(this.sprinter.jumped=!0,this.sprinterAction=this.sprinterRise)}},{key:"sprinterFall",value:function(){this.sprinter.fall(this.sprinterOnLand)}},{key:"sprinterRise",value:function(){this.sprinter.y>this.sprinter.maxY?this.sprinter.rise():this.sprinterAction=this.sprinterFall}},{key:"isOver",value:function(){return this.gameOver}},{key:"isCollideWithSide",value:function(t,i){for(var e=0;e<t.length;e++){var h=t[e][0][1],r=t[e][1][1],s=t[e][0][0];if(i.sprinterTopY>=h+2&&i.sprinterTopY<=r-2&&i.sprinterX>=s-1&&i.sprinterX<=s||i.sprinterBottomY>=h+2&&i.sprinterBottomY<=r-2&&i.sprinterX>=s-1&&i.sprinterX<=s)return!0}return!1}},{key:"isCollideWithRiver",value:function(t,i){return i.sprinterBottomY<=t[0]+8&&i.sprinterBottomY>=t[0]-2}},{key:"isLanded",value:function(t){for(var i=this.getSprinterCoords(),e=0;e<t.length;e++){var h=t[e][0][0],r=t[e][1][0],s=t[e][0][1];if(i.sprinterLeftX>=h&&i.sprinterLeftX<=r&&this.between(i.sprinterY,s-2,s+2)||i.sprinterRightX>=h&&i.sprinterRightX<=r&&this.between(i.sprinterY,s-2,s+2))return this.sprinter.originalY=s,this.sprinter.maxY=s-200,!0}return!1}},{key:"getSprinterCoords",value:function(){var t=this.sprinter.SprinterCoordinates();return{sprinterLeftX:t[0],sprinterRightX:t[1],sprinterY:t[3],sprinterTopY:t[2],sprinterBottomY:t[3],sprinterX:t[1]}}},{key:"allObjects",value:function(){return[].concat([this.sprinter],[this.land],[this.river])}},{key:"between",value:function(t,i,e){return t>=i&&t<=e}},{key:"draw",value:function(t){new Date;this.score+=1,this.endScore=Math.floor(this.score/30),this.endScore>=1e3?this.scoreMargin=84:this.endScore>=100?this.scoreMargin=56:this.endScore>=10&&(this.scoreMargin=28),t.clearRect(0,0,1334,750),t.fillStyle="#fafafa",t.fillRect(0,0,1334,750),t.font="50px Arial",t.strokeText("score: "+this.endScore,600-this.scoreMargin,50),this.allObjects().forEach(function(i){i.draw(t)})}}]),t}();i["default"]=y},function(t,i){"use strict";function e(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var h=function(){function t(t,i){for(var e=0;e<i.length;e++){var h=i[e];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,h.key,h)}}return function(i,e,h){return e&&t(i.prototype,e),h&&t(i,h),i}}(),r=new Image;r.src="explosion.png";var s=[[0,1],[96,1],[192,1],[288,1],[384,1],[0,97],[96,97],[192,97],[288,97],[384,97],[0,193],[96,193],[192,193],[288,193],[384,193],[480,288]],n=function(){function t(i,h){e(this,t),this.game=i,this.ctx=h,this.gamePaused=!1,this.highScores=[],this.newHighScoreCreated=!1,this.displayForm=!1,this.explode=this.explode.bind(this),this.reDisplayHighScores=this.reDisplayHighScores.bind(this),this.displayHighScores=this.displayHighScores.bind(this),this.showScoreForm=this.showScoreForm.bind(this),this.setHighScore=this.setHighScore.bind(this),this.createScore=this.createScore.bind(this),this.fetchScores(),this.userInput=""}return h(t,[{key:"bindKeyHandlers",value:function(){var t=this;key("space",function(i){i.preventDefault(),t.game.sprinterJump()}),key("enter",function(i){i.preventDefault(),t.toggleGame()})}},{key:"displayHighScores",value:function(t){var i=this,e=t;$(".info-inner").append("\n      <div class='highscores'>\n        <table class='highscores-table' align='center'>\n          <tr>\n            <th></th>\n            <th>Name</th>\n            <th>Score</th>\n          </tr>\n        </table>\n      </div>\n    "),$(".info-inner").append('\n      <div class=\'restart\'>\n        <div type="submit" onClick="window.location.reload()">Restart</div>\n      </div>\n    ');for(var h=$(".highscores-table"),r=function(t){var r=e[t].name;h.append("\n        <tr id='player"+t+"'>\n          <td>"+(t+1)+"</td>\n          <td>"+r+"</td>\n          <td>"+i.scorePadding(e[t].score)+"</td>\n        </tr>\n      "),"player"===r?$("#player"+t).addClass("default-player"):r===i.userInput&&($("#player"+t).addClass("highlight"),setTimeout(function(){$("#player"+t).removeClass("highlight")},3e3))},s=0;s<10;s++)r(s);$(".info-inner").addClass("info-inner-show"),this.newHighScoreCreated&&this.displayForm&&this.showScoreForm()}},{key:"scorePadding",value:function(t){var i="0000"+t;return i.slice(t.toString().length-1,i.length)}},{key:"reDisplayHighScores",value:function(t){this.displayForm=!1,$(".info-inner").empty();for(var i=0;i<this.highScores.length;i++)if(this.highScores[i].score<t.score){this.highScores.splice(i,0,t);break}this.displayHighScores(this.highScores)}},{key:"fetchScores",value:function(){var t=this;$.ajax({method:"GET",url:"https://esrails.herokuapp.com/scores/",crossDomain:!0,success:function(i){return t.setHighScore(i)}})}},{key:"setHighScore",value:function(t){this.highScores=t}},{key:"createScore",value:function(t,i){var e=this;$.ajax({method:"POST",data:{name:t,score:i},dataType:"json",url:"https://esrails.herokuapp.com/scores",crossDomain:!0,success:function(t){return e.reDisplayHighScores(t)}})}},{key:"showScoreForm",value:function(){var t=$(".highscores");t.append("\n      <form>\n        <div class='submission'>\n          <input id='nameinput' type='text' placeholder='Enter your name'>\n          <input id='submit' type='submit' value='submit'>\n        </div>\n      </form>"),$("form").submit(function(t){t.preventDefault();var i=$("#nameinput").val();i.length>2&&i.length<9?(this.userInput=i,$("form").remove(),this.createScore(this.userInput,this.game.endScore)):alert("Your name must be 3 to 8 characters!")}.bind(this)),$("#nameinput").keypress(function(t){if(32===t.which)return!1})}},{key:"compareScores",value:function(){for(var t=0;t<this.highScores.length;t++)if(0===this.highScores.length||this.highScores[t].score<this.game.endScore)return this.newHighScoreCreated=!0,this.displayForm=!0,!0;return!1}},{key:"toggleGame",value:function(){this.game.isOver()||(this.gamePaused?(this.gamePaused=!1,this.gameStart=setInterval(this.animate.bind(this),10)):this.gamePaused=!0)}},{key:"start",value:function(){this.bindKeyHandlers(),this.gameStart=setInterval(this.animate.bind(this),10)}},{key:"animate",value:function(){this.gamePaused&&clearInterval(this.gameStart),this.game.isOver()?(clearInterval(this.gameStart),this.sprinterCoords=this.game.sprinter.SprinterExplodeCoords(),this.idx=0,this.gameExplode=setInterval(this.explode,100),this.compareScores()?(this.ctx.fillStyle="#ff0000",this.ctx.font="30px Arial",this.ctx.fillText("Congratulations! New High Score!",175,100)):(this.ctx.fillStyle="#ff69b4",this.ctx.font="30px Arial",this.ctx.fillText("Better Luck Next Time!",245,100))):(this.game.step(),this.game.draw(this.ctx))}},{key:"explode",value:function(){this.ctx.clearRect(this.sprinterCoords[0]-40,this.sprinterCoords[1]-40,this.sprinterCoords[2]+40,this.sprinterCoords[3]+40),this.ctx.fillStyle="#fafafa",this.ctx.fillRect(this.sprinterCoords[0]-40,this.sprinterCoords[1]-40,this.sprinterCoords[2]+40,this.sprinterCoords[3]+40),this.ctx.drawImage(r,s[this.idx][0],s[this.idx][1],95,95,this.sprinterCoords[0]-40,this.sprinterCoords[1]-40,this.sprinterCoords[2]+40,this.sprinterCoords[3]+40),15===this.idx?(clearInterval(this.gameExplode),this.displayHighScores(this.highScores)):this.idx+=1}}]),t}();i["default"]=n},function(t,i){"use strict";function e(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var h=function(){function t(t,i){for(var e=0;e<i.length;e++){var h=i[e];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,h.key,h)}}return function(i,e,h){return e&&t(i.prototype,e),h&&t(i,h),i}}(),r=new Image;r.src="land.jpg";var s=function(){function t(i){e(this,t),this.Land=i,this.currentLand=[],this.loadLand(),this.currentPieceNumber=9,this.moveSpeed=2,this.insaneDisplayed=!1,this.champDisplayed=!1}return h(t,[{key:"loadLand",value:function(){for(var t=0;t<10;t++)this.currentLand.push(Object.assign({},this.Land[t]))}},{key:"step",value:function(){this.currentLand[0].x<-100&&(this.currentPieceNumber+=1,this.queue()),this.move()}},{key:"move",value:function(){var t=this;this.currentLand.forEach(function(i,e){t.currentLand[e].x-=t.moveSpeed})}},{key:"queue",value:function(){this.currentLand.shift(),this.currentPieceNumber===this.Land.length-1?(this.currentLand.push(Object.assign({},this.Land[this.currentPieceNumber])),this.currentPieceNumber=9,this.moveSpeed<3.5&&(this.moveSpeed+=.5),3.5===this.moveSpeed&&(this.moveSpeed=4.5)):this.currentLand.push(Object.assign({},this.Land[this.currentPieceNumber]))}},{key:"draw",value:function(t){2===this.moveSpeed&&this.currentPieceNumber<20?(t.font="50px Arial",t.strokeText("Level 1",40,50)):2.5===this.moveSpeed&&this.currentPieceNumber<20?(t.font="50px Arial",t.strokeText("Level 2",40,50)):3===this.moveSpeed&&this.currentPieceNumber<20?(t.font="50px Arial",t.strokeText("Insane Mode",40,50)):4.5===this.moveSpeed&&this.currentPieceNumber<20&&!this.insaneDisplayed?(t.font="30px Arial",t.strokeText("Just kidding, Here's Insane Mode.",40,50)):this.insaneDisplayed&&!this.champDisplayed&&(t.font="50px Arial",t.strokeText("Keep going champ!",40,50),30===this.currentPieceNumber&&(this.champDisplayed=!0)),4.5===this.moveSpeed&&78===this.currentPieceNumber&&(this.insaneDisplayed=!0),this.currentLand.forEach(function(i){t.drawImage(r,0,0,80,100,i.x,i.y,i.width-16,i.height)})}}]),t}();i["default"]=s},function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Level=void 0;var h=e(1),r=h.gameDemension[0];i.Level=[{x:Math.floor(r/10*0),y:350,width:100,height:100},{x:Math.floor(r/10*1),y:350,width:100,height:100},{x:Math.floor(r/10*2),y:350,width:100,height:100},{x:Math.floor(r/10*3),y:350,width:100,height:100},{x:Math.floor(r/10*4),y:350,width:100,height:100},{x:Math.floor(r/10*5),y:350,width:100,height:100},{x:Math.floor(r/10*6),y:350,width:100,height:100},{x:Math.floor(r/10*7),y:350,width:100,height:100},{x:Math.floor(r/10*8),y:350,width:100,height:100},{x:Math.floor(r/10*9),y:350,width:100,height:100},{x:Math.floor(r/10*10),y:350,width:100,height:100},{x:Math.floor(r/10*10),y:350,width:100,height:100},{x:Math.floor(r/10*10),y:0,width:0,height:0},{x:Math.floor(r/10*10),y:250,width:100,height:100},{x:Math.floor(r/10*10),y:300,width:100,height:50},{x:Math.floor(r/10*10),y:300,width:100,height:50},{x:Math.floor(r/10*10),y:300,width:100,height:50},{x:Math.floor(r/10*10),y:250,width:100,height:100},{x:Math.floor(r/10*10),y:0,width:0,height:0},{x:Math.floor(r/10*10),y:350,width:100,height:100},{x:Math.floor(r/10*10),y:350,width:100,height:100},{x:Math.floor(r/10*10),y:350,width:100,height:100},{x:Math.floor(r/10*10),y:350,width:100,height:100},{x:Math.floor(r/10*10),y:350,width:100,height:100},{x:Math.floor(r/10*10),y:350,width:100,height:100},{x:Math.floor(r/10*10),y:350,width:100,height:100},{x:Math.floor(r/10*10),y:0,width:0,height:0},{x:Math.floor(r/10*10),y:200,width:100,height:100},{x:Math.floor(r/10*10),y:200,width:100,height:100},{x:Math.floor(r/10*10),y:200,width:100,height:100},{x:Math.floor(r/10*10),y:150,width:100,height:100},{x:Math.floor(r/10*10),y:150,width:100,height:100},{x:Math.floor(r/10*10),y:0,width:0,height:0},{x:Math.floor(r/10*10),y:150,width:100,height:300},{x:Math.floor(r/10*10),y:200,width:100,height:250},{x:Math.floor(r/10*10),y:250,width:100,height:200},{x:Math.floor(r/10*10),y:300,width:100,height:150},{x:Math.floor(r/10*10),y:350,width:100,height:100},{x:Math.floor(r/10*10),y:350,width:100,height:100},{x:Math.floor(r/10*10),y:350,width:100,height:100},{x:Math.floor(r/10*10),y:200,width:100,height:150},{x:Math.floor(r/10*10),y:0,width:0,height:0},{x:Math.floor(r/10*10),y:0,width:0,height:0},{x:Math.floor(r/10*10),y:170,width:100,height:150},{x:Math.floor(r/10*10),y:170,width:100,height:150},{x:Math.floor(r/10*10),y:0,width:0,height:0},{x:Math.floor(r/10*10),y:0,width:0,height:0},{x:Math.floor(r/10*10),y:350,width:100,height:100},{x:Math.floor(r/10*10),y:350,width:100,height:100},{x:Math.floor(r/10*10),y:350,width:100,height:100},{x:Math.floor(r/10*10),y:350,width:100,height:100},{x:Math.floor(r/10*10),y:0,width:0,height:0},{x:Math.floor(r/10*10),y:350,width:100,height:100},{x:Math.floor(r/10*10),y:350,width:100,height:100},{x:Math.floor(r/10*10),y:350,width:100,height:100},{x:Math.floor(r/10*10),y:0,width:0,height:0},{x:Math.floor(r/10*10),y:350,width:100,height:100},{x:Math.floor(r/10*10),y:350,width:100,height:100},{x:Math.floor(r/10*10),y:350,width:100,height:100},{x:Math.floor(r/10*10),y:350,width:100,height:100},{x:Math.floor(r/10*10),y:300,width:100,height:150},{x:Math.floor(r/10*10),y:300,width:100,height:150},{x:Math.floor(r/10*10),y:300,width:100,height:150},{x:Math.floor(r/10*10),y:0,width:0,height:0},{x:Math.floor(r/10*10),y:300,width:100,height:150},{x:Math.floor(r/10*10),y:0,width:0,height:0},{x:Math.floor(r/10*10),y:250,width:100,height:200},{x:Math.floor(r/10*10),y:250,width:100,height:200},{x:Math.floor(r/10*10),y:0,width:0,height:0},{x:Math.floor(r/10*10),y:250,width:100,height:200},{x:Math.floor(r/10*10),y:350,width:100,height:100},{x:Math.floor(r/10*10),y:350,width:100,height:100},{x:Math.floor(r/10*10),y:350,width:100,height:100},{x:Math.floor(r/10*10),y:350,width:100,height:100},{x:Math.floor(r/10*10),y:350,width:100,height:100},{x:Math.floor(r/10*10),y:350,width:100,height:100},{x:Math.floor(r/10*10),y:350,width:100,height:100},{x:Math.floor(r/10*10),y:350,width:100,height:100},{x:Math.floor(r/10*10),y:350,width:100,height:100},{x:Math.floor(r/10*10),y:350,width:100,height:100}]},function(t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});i.sideLandCoords=function(t){for(var i=[],e=t.currentLand,h=0;h<e.length/3;h++){var r=e[h].x,s=e[h].y+1,n=e[h].y+e[h].height-1;i.push([[r,s],[r,n]])}return i},i.topLandCoords=function(t){for(var i=[],e=t.currentLand,h=0;h<e.length/3;h++){var r=e[h].y,s=e[h].x,n=e[h].x+e[h].width;i.push([[s,r],[n,r]])}return i},i.riverCoords=function(t){return[t.y]}},function(t,i){"use strict";function e(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var h=function(){function t(t,i){for(var e=0;e<i.length;e++){var h=i[e];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,h.key,h)}}return function(i,e,h){return e&&t(i.prototype,e),h&&t(i,h),i}}(),r=function(){function t(){e(this,t),this.x=0,this.y=450,this.width=800,this.height=50}return h(t,[{key:"draw",value:function(t){t.fillStyle="#add8e6",t.fillRect(this.x,this.y,this.width,this.height),t.fillStyle="#cde7f0",t.fillRect(this.x,this.y,this.width,.2*this.height),t.fillStyle="#bddfeb",t.fillRect(this.x,this.y+.2*this.height,this.width,.2*this.height)}}]),t}();i["default"]=r},function(t,i){"use strict";function e(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var h=function(){function t(t,i){for(var e=0;e<i.length;e++){var h=i[e];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,h.key,h)}}return function(i,e,h){return e&&t(i.prototype,e),h&&t(i,h),i}}(),r=new Image;r.src="sprinter.png";var s=function(){function t(){e(this,t),this.x=75,this.y=10,this.width=32,this.height=32,this.maxY=this.y-200,this.originalY=this.y,this.jumped=!1,this.action="",this.velocity=4,this.startPixels=[0,66,264,132,198,330,396,594,528,462],this.startIdx=0,this.slowDownCounter=0}return h(t,[{key:"draw",value:function(t){"rising"===this.action?t.drawImage(r,this.startPixels[0],0,66,71,this.x,this.y,this.width,this.height):"falling"===this.action?t.drawImage(r,this.startPixels[2],0,66,71,this.x,this.y,this.width,this.height):t.drawImage(r,this.startPixels[this.startIdx],0,66,71,this.x,this.y,this.width,this.height),5===this.slowDownCounter?(this.startIdx<9?this.startIdx+=1:this.startIdx=0,this.slowDownCounter=0):this.slowDownCounter+=1}},{key:"getVelocityRise",value:function(){this.y>=9*(this.originalY-this.maxY)/10+this.maxY?this.velocity=20:this.y>=8*(this.originalY-this.maxY)/10+this.maxY?this.velocity=18:this.y>=7*(this.originalY-this.maxY)/10+this.maxY?this.velocity=16:this.y>=6*(this.originalY-this.maxY)/10+this.maxY?this.velocity=12:this.y>=5*(this.originalY-this.maxY)/10+this.maxY?this.velocity=8:this.y>=4*(this.originalY-this.maxY)/10+this.maxY?this.velocity=6:this.y>=3*(this.originalY-this.maxY)/10+this.maxY?this.velocity=6:this.y>=2*(this.originalY-this.maxY)/10+this.maxY?this.velocity=4:this.y>=1*(this.originalY-this.maxY)/10+this.maxY&&(this.velocity=2)}},{key:"getVelocityFall",value:function(){this.y>this.originalY?this.velocity=6:this.y>=98*(this.originalY-this.maxY)/100+this.maxY?this.velocity=2:this.y>=9*(this.originalY-this.maxY)/10+this.maxY?this.velocity=8:this.y>=8*(this.originalY-this.maxY)/10+this.maxY?this.velocity=8:this.y>=7*(this.originalY-this.maxY)/10+this.maxY?this.velocity=6:this.y>=6*(this.originalY-this.maxY)/10+this.maxY?this.velocity=6:this.y>=5*(this.originalY-this.maxY)/10+this.maxY?this.velocity=6:this.y>=4*(this.originalY-this.maxY)/10+this.maxY?this.velocity=4:this.y>=3*(this.originalY-this.maxY)/10+this.maxY?this.velocity=4:this.y>=2*(this.originalY-this.maxY)/10+this.maxY?this.velocity=4:this.y>=1*(this.originalY-this.maxY)/10+this.maxY&&(this.velocity=4)}},{key:"rise",value:function(){"rising"!==this.action&&(this.action="rising"),this.getVelocityRise(),this.y-=this.velocity}},{key:"fall",value:function(t){t?(this.action="",this.jumped=!1):("falling"!==this.action&&(this.action="falling"),this.getVelocityFall(),this.y+=this.velocity)}},{key:"SprinterCoordinates",value:function(){return[this.x,this.x+this.width,this.y,this.y+this.height]}},{key:"SprinterExplodeCoords",value:function(){return[this.x,this.y,this.width,this.height]}}]),t}();i["default"]=s}]);
//# sourceMappingURL=bundle.js.map